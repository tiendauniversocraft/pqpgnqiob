(()=>{var l=(e,t,n)=>new Promise((o,r)=>{var c=a=>{try{u(n.next(a))}catch(i){r(i)}},s=a=>{try{u(n.throw(a))}catch(i){r(i)}},u=a=>a.done?o(a.value):Promise.resolve(a.value).then(c,s);u((n=n.apply(e,t)).next())});var g=window.__mmapiws||{};function m(e,t){let n=e.length&3,o=e.length-n,r=t,c,s=3432918353,u=461845907,a=0,i;for(;a<o;)i=e.charCodeAt(a)&255|(e.charCodeAt(++a)&255)<<8|(e.charCodeAt(++a)&255)<<16|(e.charCodeAt(++a)&255)<<24,++a,i=(i&65535)*s+(((i>>>16)*s&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(i&65535)*u+(((i>>>16)*u&65535)<<16)&4294967295,r^=i,r=r<<13|r>>>19,c=(r&65535)*5+(((r>>>16)*5&65535)<<16)&4294967295,r=(c&65535)+27492+(((c>>>16)+58964&65535)<<16);switch(i=0,n){case 3:i^=(e.charCodeAt(a+2)&255)<<16;case 2:i^=(e.charCodeAt(a+1)&255)<<8;case 1:i^=e.charCodeAt(a)&255,i=(i&65535)*s+(((i>>>16)*s&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(i&65535)*u+(((i>>>16)*u&65535)<<16)&4294967295,r^=i}return r^=e.length,r^=r>>>16,r=(r&65535)*2246822507+(((r>>>16)*2246822507&65535)<<16)&4294967295,r^=r>>>13,r=(r&65535)*3266489909+(((r>>>16)*3266489909&65535)<<16)&4294967295,r^=r>>>16,r>>>0}function h(e){return new Promise(t=>setTimeout(t,e))}function y(){try{return window.top.location.origin!==window.self.location.origin}catch(e){return!0}}function S(){let e,t;try{e=document.createElement("canvas"),t=e.getContext("2d")}catch(n){}return t?(t.fillStyle="red",t.fillRect(30,10,200,100),t.strokeStyle="#1a3bc1",t.lineWidth=6,t.lineCap="round",t.arc(50,50,20,0,Math.PI,!1),t.stroke(),t.fillStyle="#42e1a2",t.font="15.4px 'Arial'",t.textBaseline="alphabetic",t.fillText("PR flacks quiz gym: TV DJ box when? \u2620",15,60),t.shadowOffsetX=1,t.shadowOffsetY=2,t.shadowColor="white",t.fillStyle="rgba(0, 0, 200, 0.5)",t.font="60px 'Not a real font'",t.fillText("No\u9A97",40,80),m(e.toDataURL(),0)):null}function w(){let e=['video/mp4; codecs="avc1.42c00d"','video/ogg; codecs="theora"','video/webm; codecs="vorbis,vp8"','video/webm; codecs="vorbis,vp9"','video/mp2t; codecs="avc1.42E01E,mp4a.40.2"'];return{audio:P(["audio/mpeg",'audio/mp4; codecs="mp4a.40.2"','audio/ogg; codecs="vorbis"','audio/ogg; codecs="opus"','audio/webm; codecs="vorbis"','audio/wav; codecs="1"']),video:P(e)}}function P(e){let t={};for(let n=0;n<e.length;n++){let o=e[n];window.MediaSource&&(t[o]=window.MediaSource.isTypeSupported(o))}return t}function v(){let e={},t,n;try{t=document.createElement("canvas"),n=t.getContext("2d")}catch(r){}if(!n)return e;let o=["ActiveBorder","ActiveCaption","AppWorkspace","Background","ButtonFace","ButtonHighlight","ButtonShadow","ButtonText","CaptionText","GrayText","Highlight","HighlightText","InactiveBorder","InactiveCaption","InactiveCaptionText","InfoBackground","InfoText","Menu","MenuText","Scrollbar","ThreeDDarkShadow","ThreeDFace","ThreeDHighlight","ThreeDLightShadow","ThreeDShadow","Window","WindowFrame","WindowText"];for(let r=0;r<o.length;r++)n.fillStyle=o[r],e[o[r]]=n.fillStyle;return e}var T=[{width:"150px",height:"100px",border:"2px solid rgba(0,150,255,0.91)",color:"rgba(255,255,255,1)",background:"rgb(255,255,255)",position:"absolute",transform:"skewY(29.1755628deg) rotate3d(11.000000007, 90, 0.100000000000009, 60000000000033.0000000006deg)"},{width:"150px",height:"100px",border:"solid 2.89px",borderColor:"#3A0CA3",fontSize:"45px",marginTop:"50px",position:"absolute",transform:"skewY(29.1755618deg) scale(3.0000000000333, -1.00002) matrix(33.0000000003, 1.000001, -2.0000003, 1.009, 33.00000003, -6.0000006)"},{width:"150px",height:"100px",border:"2px solid rgba(0,150,255,0.91)",borderColor:"rgba(0,150,255,0.91)",padding:"15px",position:"absolute",transform:"perspective(1555px) translateZ(-25.0000001px)"},{width:"150px",height:"100px",border:"2px solid rgba(0,1,255,0.91)",top:"0.1rem",left:"0.1rem",marginTop:"--255.50005px",marginLeft:"0.500005rem",position:"absolute"},{width:"150px",height:"100px",border:"2px solid rgba(118,165,175,1)",marginTop:"-333.552px",marginLeft:"13.90000099rem",padding:"4.4545px",left:"5px",top:"5px",position:"absolute",transform:" matrix(33.0000000003, 1.000001, -2.0000003, 1.009, 33.00000003, -6.0000006)"}];function C(){return l(this,null,function*(){try{let e=document.createElement("iframe");return e.style.visibility="hidden",document.body.appendChild(e),new Promise((t,n)=>{e.onload=function(){var u;let o=e.contentDocument||((u=e.contentWindow)==null?void 0:u.document);if(!o){n(new Error("Failed to create iframe document"));return}T.forEach((a,i)=>{let f=o.createElement("div");f.id=`rect-${i}`,Object.assign(f.style,a),o.body.appendChild(f)});let r=a=>{var i;return(i=o.getElementById(a))==null?void 0:i.getClientRects()[0]},c=T.map((a,i)=>{let f=r(`rect-${i}`);return f||n(new Error(`Failed to get rect for rect-${i}`)),f}),s=m(JSON.stringify(c),0);document.body.removeChild(e),t(s)},e.src="about:blank"})}catch(e){return null}})}var b=["Abadi MT Condensed Light","Adobe Fangsong Std","Adobe Hebrew","Adobe Ming Std","Agency FB","Arab","Arabic Typesetting","Arial Black","Batang","Bauhaus 93","Bell MT","Bitstream Vera Serif","Bodoni MT","Bookman Old Style","Braggadocio","Broadway","Calibri","Californian FB","Castellar","Casual","Centaur","Century Gothic","Chalkduster","Colonna MT","Copperplate Gothic Light","DejaVu LGC Sans Mono","Desdemona","DFKai-SB","Dotum","Engravers MT","Eras Bold ITC","Eurostile","FangSong","Forte","Franklin Gothic Heavy","French Script MT","Gabriola","Gigi","Gisha","Goudy Old Style","Gulim","GungSeo","Haettenschweiler","Harrington","Hiragino Sans GB","Impact","Informal Roman","KacstOne","Kino MT","Kozuka Gothic Pr6N","Lohit Gujarati","Loma","Lucida Bright","Lucida Fax","Magneto","Malgun Gothic","Matura MT Script Capitals","Menlo","MingLiU-ExtB","MoolBoran","MS PMincho","MS Reference Sans Serif","News Gothic MT","Niagara Solid","Nyala","Palace Script MT","Papyrus","Perpetua","Playbill","PMingLiU","Rachana","Rockwell","Sawasdee","Script MT Bold","Segoe Print","Showcard Gothic","SimHei","Snap ITC","TlwgMono","Tw Cen MT Condensed Extra Bold","Ubuntu","Umpush","Univers","Utopia","Vladimir Script","Wide Latin"];function D(){let e=U();return e!==null?e:V()}function U(){let e,t;try{e=document.createElement("canvas"),t=e.getContext("2d")}catch(u){}if(!t)return null;let n=["sans-serif","serif","monospace"],o=[],r="72px",c="mmmmmmmmmmlli";for(let u=0;u<n.length;u++)t.font=r+' "'+n[u]+'"',o[u]=t.measureText(c);let s=[];for(let u=0;u<b.length;u++){let a=b[u],i=!1;for(let f=0;f<o.length;f++){t.font=r+' "'+a+'", "'+n[f]+'"';let d=t.measureText(c);if(d.width!==o[f].width||d.fontBoundingBoxAscent!==o[f].fontBoundingBoxAscent){i=!0;break}}i&&s.push(a)}return s}function V(){let e=[],t=new z;for(let n=0;n<b.length;n++){let o=b[n];t.detect(o)&&e.push(o)}return t.finish(),e}function z(){let e=["monospace","sans-serif","serif"],t=[],n="mmmmmmmmmmlli",o="72px",r=document.body,c=document.createElement("span"),s=c.style;s.fontSize=o,s.visibility="hidden",c.innerText=n,r.appendChild(c);let u=function(a){return s.fontFamily=a,{height:c.offsetHeight,width:c.offsetWidth}};for(let a=0;a<e.length;a++)t[a]=u(e[a]);this.detect=function(a){for(let i=0;i<t.length;i++){let f=u('"'+a+'",'+e[i]),d=t[i];if(f.height!==d.height||f.width!==d.width)return!0}return!1},this.finish=function(){r.removeChild(c)}}var q=[Math.acos,Math.acosh,Math.asin,Math.atan,Math.atanh,Math.cos,Math.cosh,Math.exp,Math.expm1,Math.fround,Math.log,Math.log10,Math.sin,Math.sinh,Math.sqrt,Math.tan,Math.tanh],J=[-1,0,1,Math.E,Math.PI,Math.SQRT2,1e300,-1e300,1e-300,1e-300];function M(){var t,n;let e={};for(let o of q)if(o){let r=(n=e[t=o.name])!=null?n:e[t]={};for(let c of J){let s=o(c);Number.isNaN(s)||(r[c]=Y(s))}}return e}function Y(e){return e==Number.NEGATIVE_INFINITY?"-Infinity":e==Number.POSITIVE_INFINITY?"Infinity":e}var I=["4game","AdblockPlugin","AdobeExManCCDetect","AdobeExManDetect","Alawar NPAPI utils","Aliedit Plug-In","Alipay Security Control 3","AliSSOLogin plugin","AmazonMP3DownloaderPlugin","AOL Media Playback Plugin","AppUp","ArchiCAD","AVG SiteSafety plugin","Babylon ToolBar","Battlelog Game Launcher","BitCometAgent","Bitdefender QuickScan","BlueStacks Install Detector","CatalinaGroup Update","Citrix ICA Client","Citrix online plug-in","Citrix Receiver Plug-in","Coowon Update","DealPlyLive Update","Default Browser Helper","DivX Browser Plug-In","DivX Plus Web Player","DivX VOD Helper Plug-in","doubleTwist Web Plugin","Downloaders plugin","downloadUpdater","eMusicPlugin DLM6","ESN Launch Mozilla Plugin","ESN Sonar API","Exif Everywhere","Facebook Plugin","File Downloader Plug-in","FileLab plugin","FlyOrDie Games Plugin","Folx 3 Browser Plugin","FUZEShare","GDL Object Web Plug-in 16.00","GFACE Plugin","Ginger","Gnome Shell Integration","Google Earth Plugin","Google Earth Plug-in","Google Gears 0.5.33.0","Google Talk Effects Plugin","Google Update","Harmony Firefox Plugin","Harmony Plug-In","Heroes & Generals live","HPDetect","Html5 location provider","IE Tab plugin","iGetterScriptablePlugin","iMesh plugin","Kaspersky Password Manager","LastPass","LogMeIn Plugin 1.0.0.935","LogMeIn Plugin 1.0.0.961","Ma-Config.com plugin","Microsoft Office 2013","MinibarPlugin","Native Client","Nitro PDF Plug-In","Nokia Suite Enabler Plugin","Norton Identity Safe","npAPI Plugin","NPLastPass","NPPlayerShell","npTongbuAddin","NyxLauncher","Octoshape Streaming Services","Online Storage plug-in","Orbit Downloader","Pando Web Plugin","Parom.TV player plugin","PDF integrado do WebKit","PDF-XChange Viewer","PhotoCenterPlugin1.1.2.2","Picasa","PlayOn Plug-in","QQ2013 Firefox Plugin","QQDownload Plugin","QQMiniDL Plugin","QQMusic","RealDownloader Plugin","Roblox Launcher Plugin","RockMelt Update","Safer Update","SafeSearch","Scripting.Dictionary","SefClient Plugin","Shell.UIHelper","Silverlight Plug-In","Simple Pass","Skype Web Plugin","SumatraPDF Browser Plugin","Symantec PKI Client","Tencent FTN plug-in","Thunder DapCtrl NPAPI Plugin","TorchHelper","Unity Player","Uplay PC","VDownloader","Veetle TV Core","VLC Multimedia Plugin","Web Components","WebKit-integrierte PDF","WEBZEN Browser Extension","Wolfram Mathematica","WordCaptureX","WPI Detector 1.4","Yandex Media Plugin","Yandex PDF Viewer","YouTube Plug-in","zako"];function B(){let e=[],t={};for(let n=0;n<navigator.plugins.length;n++){let o=navigator.plugins[n];o.name==="Shockwave Flash"&&navigator.userAgent.indexOf("Chrome")>-1||(t[o.name]=1,e.push(A(o)))}for(let n=0;n<I.length;n++){let o=I[n];if(!t[o]){let r=navigator.plugins[o];r&&e.push(A(r))}}return e}function A(e){let t={name:e.name,filename:e.filename.toLowerCase(),description:e.description};typeof e.version!="undefined"&&(t.version=e.version),t.mimeTypes=[];for(let n=0;n<e.length;n++){let o=e[n];t.mimeTypes.push({description:o.description,suffixes:o.suffixes,type:o.type})}return t}function O(){return l(this,null,function*(){var o,r,c;let e=x(navigator),t=navigator,n=t.connection||t.mozConnection||t.webkitConnection;if(n&&(e.connection=x(n)),"getGamepads"in navigator)try{e.gamepads=Array.from(navigator.getGamepads().filter(s=>!!s).map(s=>s.id))}catch(s){}return!y()&&t.keyboard&&t.keyboard.getLayoutMap&&(((o=e.keyboard)!=null?o:e.keyboard={}).layoutMap=Array.from((yield t.keyboard.getLayoutMap()).entries())),navigator.mediaDevices&&(navigator.mediaDevices.getSupportedConstraints&&(((r=e.mediaDevices)!=null?r:e.mediaDevices={}).supportedConstraints=navigator.mediaDevices.getSupportedConstraints()),navigator.mediaDevices.enumerateDevices&&(((c=e.mediaDevices)!=null?c:e.mediaDevices={}).enumerateDevices=(yield navigator.mediaDevices.enumerateDevices()).map(s=>s.kind))),e})}function F(){let e={},t=[];for(let n in window.screen)typeof window.screen[n]!="object"&&(e[n]=window.screen[n]),t.push(n);return e.enumerationOrder=t,e}function x(e){let t=[],n={};for(let o in e)(typeof e[o]!="object"||Q(e[o]))&&(n[o]=e[o]),t.push(o);return n.enumerationOrder=t,n}function Q(e){return Object.prototype.toString.call(e)==="[object Array]"}function E(){return l(this,null,function*(){if(!window.speechSynthesis)return null;try{return{voices:(yield K()).slice(0,20).map(t=>x(t))}}catch(e){return null}})}function K(){return l(this,null,function*(){let e=speechSynthesis.getVoices();return e.length?e:(yield Promise.race([new Promise(t=>speechSynthesis.addEventListener("voiceschanged",t,{once:!0})),h(50)]),speechSynthesis.getVoices())})}function L(){let e,t=document.createElement("canvas"),n={};try{e=t.getContext("webgl")||t.getContext("experimental-webgl")}catch(o){}if(!e)return n;try{n.extensions=e.getSupportedExtensions()}catch(o){}try{g.disableWebglHash||(n.hash=X(e,t))}catch(o){}return n}function X(e,t){let n="attribute vec2 attrVertex; varying vec2 varyinTexCoordinate; uniform vec2 uniformOffset; void main() {   varyinTexCoordinate = attrVertex + uniformOffset;   gl_Position = vec4(attrVertex, 0, 1); }",o="precision mediump float; varying vec2 varyinTexCoordinate; void main() {   gl_FragColor = vec4(varyinTexCoordinate, 0, 1); }",r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);let c=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,c,e.STATIC_DRAW);let s=3,u=3,a=e.createProgram(),i=e.createShader(e.VERTEX_SHADER);e.shaderSource(i,n),e.compileShader(i);let f=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(f,o),e.compileShader(f),e.attachShader(a,i),e.attachShader(a,f),e.linkProgram(a),e.useProgram(a);let d=e.getAttribLocation(a,"attrVertex"),_=e.getUniformLocation(a,"uniformOffset");return e.enableVertexAttribArray(0),e.vertexAttribPointer(d,s,e.FLOAT,!1,0,0),e.uniform2f(_,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,u),m(t.toDataURL(),0)}function N(){return l(this,null,function*(){let e=new Date,t;try{t=v()}catch(r){}let o={accountId:ne(),applePay:$(),canvas:{"2dHash":S(),webgl:L()},codecs:w(),deviceTime:e.getTime()/1e3,documentUrl:document.URL,fonts:{css:D()},hasGPC:Z(),heapSizeLimit:ee(),math:M(),navigator:yield O(),plugins:B(),screen:F(),speechSynthesis:yield E(),systemColors:t,timezoneOffset:e.getTimezoneOffset(),touchInput:te(),rects:yield C()};if(navigator.getBattery){let r=yield navigator.getBattery();o.battery={charging:r.charging,chargingTime:r.chargingTime,dischargingTime:r.dischargingTime,level:r.level}}return o})}function $(){if(y())return null;let e=window.ApplePaySession;return e?{canMakePayments:e.canMakePayments()}:null}function Z(){return!!navigator.globalPrivacyControl}function ee(){let e=performance.memory;return e?e.jsHeapSizeLimit:0}function te(){try{return navigator.maxTouchPoints>0||"ontouchstart"in window?!0:window.matchMedia("(-webkit-touch-enabled),(-moz-touch-enabled),(-o-touch-enabled),(-ms-touch-enabled)").matches}catch(e){return!1}}function ne(){return typeof window.survey_height_follow!="undefined"?window.survey_height_follow:typeof window.maxmind_user_id!="undefined"?window.maxmind_user_id:g.accountId}function R(){return l(this,null,function*(){let e={};return e.cookie=document.cookie.replace(/(?:(?:^|.*;\s*)__mmapiwsid\s*=\s*([^;]*).*$)|^.*$/,"$1"),window.localStorage&&(e.localStorage=localStorage.getItem("__mmapiwsid")),window.indexedDB&&(e.indexedDb=yield ie()),e})}function k(e,t){return l(this,null,function*(){let n="__mmapiwsid",o=new Date;o.setFullYear(o.getFullYear()+2),e||(e=document.domain);try{document.cookie=n+"="+t+"; Secure; expires="+o.toUTCString()+"; domain="+e+"; path=/; SameSite=None"}catch(r){}if(window.localStorage)try{localStorage.setItem(n,t)}catch(r){}yield oe(t)})}var p="StoredId";function oe(e){return l(this,null,function*(){let t=yield G();if(!t)return;let o=t.transaction(p,"readwrite").objectStore(p);try{o.put({id:0,value:e})}catch(r){}})}function re(){if(!window.indexedDB)return null;try{return indexedDB.open("__mmapiwsDb",1)}catch(e){return null}}function G(){return l(this,null,function*(){let e=re();return new Promise(t=>{e.onsuccess=n=>{t(n.currentTarget.result)},e.onerror=()=>{t(null)},e.onupgradeneeded=n=>{n.currentTarget.result.createObjectStore(p,{keyPath:"id"})}})})}function ie(){return l(this,null,function*(){let e=yield G();return e?new Promise(t=>{let r=e.transaction(p,"readonly").objectStore(p).get(0);r.onsuccess=function(c){let s=c.target.result;s&&t(s.value),t(null)},r.onerror=()=>t(null)}):null})}function ae(){return l(this,null,function*(){let e=yield N();yield j(e,6)})}function H(){return l(this,null,function*(){typeof document.body!="undefined"&&document.body?yield ae():(yield h(500),yield H())})}function se(e,t,n){return l(this,null,function*(){let o=e.split(/;/),r=o[0],c=o[1],s=parseInt(o[2],10);typeof c!="undefined"&&(yield k(r,c)),t===6&&s===6&&!g.apiHost&&(yield j(n,4))})}function ce(){if(!window.performance)return null;let e=performance.getEntriesByType("resource");if(e===void 0)return null;let t=W(6);for(let n=0;n<e.length;n++)if(e[n].name===t.toString())return e[n].responseEnd-e[n].startTime;return null}function j(e,t){return l(this,null,function*(){let n=W(t);if(e.storedIds=yield R(),t===4){let r=ce();r!==null&&(e.requestDuration=r)}let o=yield fetch(n,{method:"POST",body:ue(e)});o.status===200&&(yield se(yield o.text(),t,e))})}function ue(e){let t="toJSON"in Array.prototype,n="toJSON"in Object.prototype,o=Array.prototype.toJSON,r=Object.prototype.toJSON;try{return delete Array.prototype.toJSON,delete Object.prototype.toJSON,JSON.stringify(e)}finally{t&&(Array.prototype.toJSON=o),n&&(Object.prototype.toJSON=r)}}function W(e){var n;let t=(n=g.apiHost)!=null?n:"d-ipv"+e+".mmapiws.com";return new URL("/ant_squire","https://"+t)}H().catch(e=>console.error(e));})();
/**
 * JS Implementation of MurmurHash3 (r136) (as of May 20, 2011)
 *
 * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
 * @see http://github.com/garycourt/murmurhash-js
 * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
 * @see http://sites.google.com/site/murmurhash/
 * @license MIT. http://opensource.org/licenses/MIT
 *
 * @param {string} key ASCII only
 * @param {number} seed Positive integer only
 * @return {number} 32-bit positive integer hash
 */
/*!
 * Based on Detector function (v.0.3) from:
 * Author : Lalit Patel
 * Website: http://www.lalit.org/lab/javascript-css-font-detect/
 * License: Apache Software License 2.0
 *          http://www.apache.org/licenses/LICENSE-2.0
 */
//# sourceMappingURL=device.js.map
